# Tournament - программа для ведения турнира по сквошу

russian

## Введение

Программа была разработана одним неисправимым энтузиастом при поддержке
инициативной группы [Санкт-Петербургской сквош-лиги](http://squash-game.ru) -
Татьяны Никитиной и Александра Постникова. Идея создания возникла после
того, как автор увидел неимоверные муки организаторов, испытываемые каждый
раз при подсчёте рейтинга. 

## Что может программа?

  1. Загрузить список игроков
  2. Автоматически составить сетки игроков в соответствии с их текущим рейтингом
  3. В ходе проведения турнира записать результаты игр
  4. В ходе проведения турнира автоматически разбивать группы при переходе от одного 
     этапа к следующему
  5. В конце турнира (как и в любой промежуточный момент) посчитать заработанные игроками
     очки
  6. Экспортировать результаты турнира с новым рейтингом игроков в CSV-формат для 
     дальнейшего выкладывания на сайт

В ходе работы с приложением ведущий турнира только записывает результаты игр,
остальное программа делает сама. Первым следует круговой этап, где игроки
играют в группе по принципу "каждый с каждым". После завершения кругового этапа
следует групповой, где по результатам сильнейшие переходят в верхнюю половину,
а остальные - в нижнюю. Таким образом турнир проводится с розыгрышем всех мест.

По результатам каждой игры считаются очки, которые приплюсовываются к текущему
рейтингу игрока. Принципы ведения рейтинга описаны на сайте
[squash-game](http://www.squash-game.ru/ligaM2/rating).

## Работа с программой

Одна работающая программа позволяет вести один турнир. Если ведутся несколько
турниров параллельно (например, разные категории), то нужно запустить несколько программ.

Перед началом турнира необходимо определить следующие вещи:
  
  1. список игроков и их количество
  2. количество круговых групп
  
Список игроков нужно занести в текстовый файл (да, тупо текстовый файл) в следующем
виде:

    Иванов Иван, 40.4
    Петров Пётр, 30.4
    Сидоров Коля, 35.7
    ...

После того, как программа запустится, нужно создать новый турнир и в пустом окне 
списка двойным кликом задать путь к файлу с игроками. В выпадающем списке нужно выбрать 
количество групп. После нажатия ОК будут созданы таблицы для кругового этапа.

Продолжение следует...

## Плюшки

Для удобства предусмотрены следующие возможности:
  1. На круговом этапе игрока можно добавить или удалить. Часто турнир
     уже забит, все знают сетку, а игроки перед самым турниром сообщают,
     что не могут прийти.
  2. Для отмены неверно введённых результатов есть Undo. Также есть Redo.
  3. Текущий турнир автоматически сохраняется и при следующем открытии программы
     загружается
  4. Турниры можно сохранять и загружать в файл .trn

## Код, сборка

Код написан на C++ с использованием библиотеки Qt (проверялось на 4.8) и собирается 
под linux/macosx/win

Сборка требует установки фреймворка qt5.5. 

После установки:
    # qmake
    # make

### Mac OS X

Если дело происходит на mac os x, то:

    # make deploy

Создаст файл tournament.dmg для установки

### Linux

On Qt5.5 installation I had a problem when 'make' returned error:

    /usr/bin/ld: cannot find -lGL
    collect2: error: ld returned 1 exit status
    Makefile:311: recipe for target 'tournament' failed

There is no need in -lGL flag, you can remove it without any problem and program will be built.


